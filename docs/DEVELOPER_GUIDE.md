# NovelAI Auto Generator é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰

## ğŸ“‹ ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
3. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ )
4. [é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
5. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
6. [ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
7. [ãƒ†ã‚¹ãƒˆ](#ãƒ†ã‚¹ãƒˆ)
8. [ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤](#ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤)
9. [ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³](#ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³)

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

NovelAI Auto Generatorã¯ã€NovelAIã®Web UIã‚’è‡ªå‹•åŒ–ã™ã‚‹Chromeæ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚TDDï¼ˆãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼‰ã¨AIé§†å‹•é–‹ç™ºãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆTsumikiï¼‰ã‚’ä½¿ç”¨ã—ã¦é–‹ç™ºã•ã‚Œã¦ã„ã¾ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½

- **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆæ©Ÿèƒ½ (TASK-101)**: å…±é€šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ãƒ—ãƒªã‚»ãƒƒãƒˆã®è‡ªå‹•åˆæˆ
- **æ–°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¯¾å¿œ (TASK-102)**: v1.0ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†
- **è‡ªå‹•ç”»åƒç”Ÿæˆ**: ãƒãƒƒãƒå‡¦ç†ã«ã‚ˆã‚‹è¤‡æ•°ç”»åƒã®ä¸€æ‹¬ç”Ÿæˆ

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **Chrome Extension Manifest V3**
- **TypeScript** (å‹å®‰å…¨æ€§)
- **JavaScript** (ES2020+)
- **HTML5/CSS3** (ãƒ¢ãƒ€ãƒ³UI)

### ãƒ†ã‚¹ãƒˆ

- **Vitest** (ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ)
- **Playwright** (E2Eãƒ†ã‚¹ãƒˆ)
- **Chrome Extension Testing** (æ‹¡å¼µæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ)

### é–‹ç™ºãƒ„ãƒ¼ãƒ«

- **Tsumiki** (AIé§†å‹•é–‹ç™ºãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯)
- **ESLint** (ã‚³ãƒ¼ãƒ‰å“è³ª)
- **Prettier** (ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ)
- **Husky** (Git hooks)

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
novelai-auto-generator/
â”œâ”€â”€ manifest.json                    # æ‹¡å¼µæ©Ÿèƒ½ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ
â”œâ”€â”€ background.js                    # Service Worker
â”œâ”€â”€ content.js                       # Content Script
â”œâ”€â”€ popup/
â”‚   â”œâ”€â”€ popup.html                   # ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—UI
â”‚   â”œâ”€â”€ popup.js                     # ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ popup.css                    # ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ popup/
â”‚   â”‚   â”œâ”€â”€ prompt-synthesis.ts      # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆæ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ prompt-synthesis.test.ts # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ metadata-manager.ts      # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ metadata-manager.test.ts # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ format-converter.ts      # å½¢å¼å¤‰æ›
â”‚   â”‚   â”œâ”€â”€ format-converter.test.ts # å½¢å¼å¤‰æ›ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ integration-manager.ts   # çµ±åˆç®¡ç†
â”‚   â”‚   â””â”€â”€ integration-manager.test.ts # çµ±åˆç®¡ç†ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ metadata.ts              # å‹å®šç¾©
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ dom-helper.js            # DOMæ“ä½œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â””â”€â”€ storage.js               # ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç®¡ç†
â”œâ”€â”€ config/
â”‚   â””â”€â”€ prompts.json                 # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®š
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ e2e/                         # E2Eãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ fixtures/                    # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ docs/                            # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ USER_GUIDE.md               # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰
â”‚   â”œâ”€â”€ DEVELOPER_GUIDE.md          # é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰
â”‚   â”œâ”€â”€ implementation/              # è¦ä»¶å®šç¾©
â”‚   â”œâ”€â”€ spec/                        # ä»•æ§˜æ›¸
â”‚   â””â”€â”€ tasks/                       # ã‚¿ã‚¹ã‚¯ç®¡ç†
â”œâ”€â”€ .claude/                         # Claude Codeè¨­å®š
â”œâ”€â”€ .codex/                          # Codex CLIè¨­å®š
â”œâ”€â”€ package.json                     # ä¾å­˜é–¢ä¿‚
â”œâ”€â”€ vitest.config.ts                 # ãƒ†ã‚¹ãƒˆè¨­å®š
â”œâ”€â”€ playwright.config.ts             # E2Eãƒ†ã‚¹ãƒˆè¨­å®š
â””â”€â”€ tsconfig.json                    # TypeScriptè¨­å®š
```

## é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Node.js 18.0.0 ä»¥ä¸Š
- Google Chrome 88 ä»¥ä¸Š
- Git

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

1. **ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³**

   ```bash
   git clone https://github.com/small-java-world/novel-ai-auto.git
   cd novel-ai-auto
   ```

2. **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

   ```bash
   npm install
   ```

3. **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•**

   ```bash
   npm run dev
   ```

4. **Chromeæ‹¡å¼µæ©Ÿèƒ½ã®èª­ã¿è¾¼ã¿**
   - Chromeã§ `chrome://extensions/` ã‚’é–‹ã
   - ã€Œãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã€ã‚’æœ‰åŠ¹åŒ–
   - ã€Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
npm run test:unit

# E2Eãƒ†ã‚¹ãƒˆ
npm run test:e2e

# ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒªãƒ³ãƒˆ
npm run lint

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
npm run format
```

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Chrome Extension                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Popup UI   â”‚  â”‚ Background/SW   â”‚ â”‚
â”‚  â”‚              â”‚  â”‚                 â”‚ â”‚
â”‚  â”‚ - è¨­å®šç”»é¢   â”‚  â”‚ - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸­ç¶™ â”‚ â”‚
â”‚  â”‚ - å®Ÿè¡Œãƒœã‚¿ãƒ³ â”‚  â”‚ - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰   â”‚ â”‚
â”‚  â”‚ - é€²æ—è¡¨ç¤º   â”‚  â”‚ - è¨­å®šç®¡ç†      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â†“                â†“            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      Content Script              â”‚   â”‚
â”‚  â”‚                                   â”‚   â”‚
â”‚  â”‚  - DOMæ“ä½œï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå…¥åŠ›ï¼‰      â”‚   â”‚
â”‚  â”‚  - ç”Ÿæˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯             â”‚   â”‚
â”‚  â”‚  - ç”»åƒæ¤œå‡º                      â”‚   â”‚
â”‚  â”‚  - ãƒ«ãƒ¼ãƒ—åˆ¶å¾¡                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
         [NovelAI Web Interface]
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
User Input â†’ Popup UI â†’ Background Script â†’ Content Script â†’ NovelAI UI
     â†“              â†“              â†“              â†“              â†“
Settings â†’ Message â†’ Processing â†’ DOM Manipulation â†’ Image Generation
     â†“              â†“              â†“              â†“              â†“
Storage â† Download â† Monitoring â† Detection â† Result
```

## ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### 1. PromptSynthesizer (TASK-101)

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆæ©Ÿèƒ½ã®ä¸­æ ¸ã¨ãªã‚‹ã‚¯ãƒ©ã‚¹ã€‚

```typescript
export class PromptSynthesizer {
  // å…±é€šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’åˆæˆ
  synthesizePrompts(
    commonPrompts: CommonPrompts,
    preset: PresetData,
    rule: SynthesisRule
  ): SynthesisResult;
}
```

**ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰**:

- `synthesizePrompts()`: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆ
- `validateTemplate()`: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ¤œè¨¼
- `calculateCharacterCount()`: æ–‡å­—æ•°è¨ˆç®—

### 2. MetadataManager (TASK-102)

æ–°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚’è¡Œã†ã‚¯ãƒ©ã‚¹ã€‚

```typescript
export class MetadataManager {
  // v1.0ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿
  loadPromptFile(file: PromptFileV1): NormalizedMetadata;

  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ­£è¦åŒ–
  normalizeMetadata(metadata: MetadataV1): NormalizedMetadata;

  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ¤œè¨¼
  validateMetadata(metadata: MetadataV1): ValidationResult;
}
```

**ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰**:

- `loadPromptFile()`: ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
- `normalizeMetadata()`: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–
- `validateMetadata()`: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼
- `extractTags()`: ã‚¿ã‚°æŠ½å‡º
- `filterByTags()`: ã‚¿ã‚°ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

### 3. FormatConverter (TASK-102)

ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé–“ã®å¤‰æ›ã‚’è¡Œã†ã‚¯ãƒ©ã‚¹ã€‚

```typescript
export class FormatConverter {
  // ãƒ¬ã‚¬ã‚·ãƒ¼ã‹ã‚‰v1.0ã¸ã®å¤‰æ›
  convertLegacyToV1(legacyFile: LegacyPromptFile): ConversionResult;

  // v1.0ã‹ã‚‰ãƒ¬ã‚¬ã‚·ãƒ¼ã¸ã®å¤‰æ›
  convertV1ToLegacy(v1File: PromptFileV1): ConversionResult;
}
```

**ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰**:

- `convertLegacyToV1()`: ãƒ¬ã‚¬ã‚·ãƒ¼â†’v1.0å¤‰æ›
- `convertV1ToLegacy()`: v1.0â†’ãƒ¬ã‚¬ã‚·ãƒ¼å¤‰æ›
- `validateConversion()`: å¤‰æ›æ¤œè¨¼
- `generateDefaultMetadata()`: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ

### 4. IntegrationManager (TASK-102)

å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµ±åˆã‚’ç®¡ç†ã™ã‚‹ã‚¯ãƒ©ã‚¹ã€‚

```typescript
export class IntegrationManager {
  // v1.0ãƒ•ã‚¡ã‚¤ãƒ«ã®çµ±åˆèª­ã¿è¾¼ã¿
  integrateV1File(fileContent: any, options: IntegrationOptions): IntegrationResult;

  // ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®çµ±åˆå¤‰æ›
  integrateLegacyFile(legacyFileContent: any, options: IntegrationOptions): IntegrationResult;
}
```

**ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰**:

- `integrateV1File()`: v1.0ãƒ•ã‚¡ã‚¤ãƒ«çµ±åˆ
- `integrateLegacyFile()`: ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«çµ±åˆ
- `processIntegrationOptions()`: çµ±åˆã‚ªãƒ—ã‚·ãƒ§ãƒ³å‡¦ç†
- `handleIntegrationError()`: çµ±åˆã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å€‹åˆ¥ãƒ†ã‚¹ãƒˆ
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®é€£æºãƒ†ã‚¹ãƒˆ
- **E2Eãƒ†ã‚¹ãƒˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªã®ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ã¿
npm run test:unit

# E2Eãƒ†ã‚¹ãƒˆã®ã¿
npm run test:e2e

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆ
npm run test:coverage
```

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
tests/
â”œâ”€â”€ e2e/
â”‚   â”œâ”€â”€ basic-flow.spec.ts          # åŸºæœ¬ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ integration.spec.ts         # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ performance.spec.ts         # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ error-handling.spec.ts      # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ fixtures/
â”‚   â”œâ”€â”€ test-prompts.json           # ãƒ†ã‚¹ãƒˆç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚   â””â”€â”€ test-config.json            # ãƒ†ã‚¹ãƒˆè¨­å®š
â””â”€â”€ src/
    â””â”€â”€ popup/
        â”œâ”€â”€ prompt-synthesis.test.ts
        â”œâ”€â”€ metadata-manager.test.ts
        â”œâ”€â”€ format-converter.test.ts
        â””â”€â”€ integration-manager.test.ts
```

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

- **ç›®æ¨™ã‚«ãƒãƒ¬ãƒƒã‚¸**: 80%ä»¥ä¸Š
- **å¿…é ˆã‚«ãƒãƒ¬ãƒƒã‚¸**: ä¸»è¦æ©Ÿèƒ½100%
- **æ¨å¥¨ã‚«ãƒãƒ¬ãƒƒã‚¸**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°90%ä»¥ä¸Š

## ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤

### ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹

1. **TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«**
2. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**
3. **ãƒªãƒ³ãƒˆãƒã‚§ãƒƒã‚¯**
4. **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°**

### ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºãƒ“ãƒ«ãƒ‰
npm run build:dev

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build:prod

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°
npm run package
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

1. **Chrome Web Store**
   - ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
   - ã‚¹ãƒˆã‚¢ç”³è«‹
   - å¯©æŸ»é€šéå¾Œã®å…¬é–‹

2. **GitHub Releases**
   - ã‚¿ã‚°ã®ä½œæˆ
   - ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®ä½œæˆ
   - ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

## ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

### é–‹ç™ºãƒ•ãƒ­ãƒ¼

1. **Issueä½œæˆ**: ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½è¦æ±‚
2. **ãƒ–ãƒ©ãƒ³ãƒä½œæˆ**: `feature/issue-number` å½¢å¼
3. **å®Ÿè£…**: TDDã§ãƒ†ã‚¹ãƒˆã‹ã‚‰ä½œæˆ
4. **ãƒ†ã‚¹ãƒˆ**: å…¨ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª
5. **ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**: è©³ç´°ãªèª¬æ˜ã¨ãƒ†ã‚¹ãƒˆçµæœ

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

- **TypeScript**: å³å¯†ãªå‹ãƒã‚§ãƒƒã‚¯
- **ESLint**: ã‚³ãƒ¼ãƒ‰å“è³ªã®ç¶­æŒ
- **Prettier**: çµ±ä¸€ã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- **å‘½åè¦å‰‡**: camelCaseï¼ˆå¤‰æ•°ï¼‰ã€PascalCaseï¼ˆã‚¯ãƒ©ã‚¹ï¼‰

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

```
feat: æ–°æ©Ÿèƒ½ã®è¿½åŠ 
fix: ãƒã‚°ä¿®æ­£
docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
test: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
style: ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ä¿®æ­£
chore: ãã®ä»–ã®å¤‰æ›´
```

### ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```markdown
## æ¦‚è¦

<!-- å¤‰æ›´å†…å®¹ã®æ¦‚è¦ -->

## å¤‰æ›´å†…å®¹

<!-- å…·ä½“çš„ãªå¤‰æ›´ç‚¹ -->

## ãƒ†ã‚¹ãƒˆ

<!-- ãƒ†ã‚¹ãƒˆçµæœ -->

## ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ãƒ†ã‚¹ãƒˆãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹
- [ ] æ—¢å­˜ã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹
- [ ] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå®Œäº†ã—ã¦ã„ã‚‹
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒ¡ãƒ¢ãƒªç®¡ç†

- **ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«**: é »ç¹ã«ä½œæˆã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å†åˆ©ç”¨
- **ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼**: é©åˆ‡ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- **DOMæ“ä½œ**: æœ€å°é™ã®æ“ä½œã§åŠ¹ç‡åŒ–

### å®Ÿè¡Œé€Ÿåº¦

- **éåŒæœŸå‡¦ç†**: Promise/async-awaitã®æ´»ç”¨
- **ãƒãƒƒãƒå‡¦ç†**: è¤‡æ•°æ“ä½œã®ä¸€æ‹¬å®Ÿè¡Œ
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: é »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥

### ç›£è¦–ã¨ãƒ¡ãƒˆãƒªã‚¯ã‚¹

```typescript
// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
const startTime = performance.now();
// å‡¦ç†å®Ÿè¡Œ
const duration = performance.now() - startTime;
console.log(`å‡¦ç†æ™‚é–“: ${duration}ms`);

// ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
const memoryUsage = performance.memory;
console.log(`ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: ${memoryUsage.usedJSHeapSize / 1024 / 1024}MB`);
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ãƒ‡ãƒ¼ã‚¿ä¿è­·

- **æœ€å°æ¨©é™**: å¿…è¦æœ€å°é™ã®æ¨©é™ã®ã¿è¦æ±‚
- **ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–**: æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–
- **ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®æ¤œè¨¼

### è„†å¼±æ€§å¯¾ç­–

- **CSP**: Content Security Policyã®è¨­å®š
- **XSSå¯¾ç­–**: å…¥åŠ›å€¤ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
- **CSRFå¯¾ç­–**: ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹ã®èªè¨¼

## ãƒ‡ãƒãƒƒã‚°

### é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«

1. **Chrome DevTools**
   - Console: ãƒ­ã‚°å‡ºåŠ›
   - Network: é€šä¿¡ç›£è¦–
   - Sources: ãƒ‡ãƒãƒƒã‚°

2. **æ‹¡å¼µæ©Ÿèƒ½å°‚ç”¨ãƒ„ãƒ¼ãƒ«**
   - `chrome://extensions/`
   - ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒšãƒ¼ã‚¸ã®æ¤œæŸ»
   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‡ãƒãƒƒã‚°

### ãƒ­ã‚°å‡ºåŠ›

```typescript
// ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°
console.debug('ãƒ‡ãƒãƒƒã‚°æƒ…å ±:', data);

// ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°
console.error('ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ:', error);

// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ­ã‚°
console.time('å‡¦ç†æ™‚é–“');
// å‡¦ç†å®Ÿè¡Œ
console.timeEnd('å‡¦ç†æ™‚é–“');
```

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [Chrome Extensions Documentation](https://developer.chrome.com/docs/extensions/)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)
- [Vitest Documentation](https://vitest.dev/)
- [Playwright Documentation](https://playwright.dev/)

---

_ã“ã®ã‚¬ã‚¤ãƒ‰ã¯é–‹ç™ºã®é€²è¡Œã«åˆã‚ã›ã¦éšæ™‚æ›´æ–°ã•ã‚Œã¾ã™ã€‚_
