# Coverage Summary 2025-09-19

## Metrics
| Metric     | Current | Threshold | Delta |
| ---------- | ------- | --------- | ----- |
| Statements | 73.86%  | 80%       | -6.14% |
| Branches   | 69.44%  | 80%       | -10.56% |
| Functions  | 84.61%  | 80%       | +4.61% |
| Lines      | 73.86%  | 80%       | -6.14% |

## Module Coverage
| Module              | Statements | Branches | Notes |
| ------------------- | ---------- | -------- | ----- |
| `src/background.ts` | 58.72%     | 58.33%   | Error/retry flows (lines 40-172) remain untested |
| `src/content.ts`    | 85.39%     | 75.00%   | Cover DOM fallbacks around lines 195-226 |
| `src/popup/**`      | 32.54%     | 43.13%   | Newly added UI modules lack suites (multiple files at 0%) |
| `src/router/**`     | 85.22%     | 80.00%   | Exercise message edge cases (lines 131-318) |
| `src/utils/**`      | 34.90%     | 71.69%   | Boundary/storage/login helpers untested (several files 0%) |

## Follow-up Actions
- [x] Capture metrics from `npm run test:coverage` execution (2025-09-19 run, 19 tests)
- [ ] Add unit/integration coverage for `src/background.ts` error-handling branches
- [ ] Introduce popup UI component tests to cover `progress-*`/`settings-ui` modules
- [ ] Backfill specs for new utils (boundary, login detection, storage) or trim unused code
- [ ] Re-run coverage after additions to verify thresholds â‰¥ 80%
